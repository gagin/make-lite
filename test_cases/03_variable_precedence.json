{
  "name": "Variable precedence (shell > equals > load_env > q_equals)",
  "command": "all",
  "env_vars": { "VAR1": "shell_wins" },
  "files": [
    {
      "path": ".env", "content": "VAR2=env_file_val\nVAR3=env_file_val"
    },
    {
      "path": "Makefile.mk-lite",
      "content": "load_env .env\nVAR1=makefile_loses\nVAR2?=q_equals_loses\nVAR4?=q_equals_wins\nall:\n\t@echo VAR1=$(VAR1) VAR2=$(VAR2) VAR3=$(VAR3) VAR4=$(VAR4)"
    }
  ],
  "checks": {
    "stdout_contains": ["VAR1=shell_wins VAR2=env_file_val VAR3=env_file_val VAR4=q_equals_wins"],
    "exit_code": 0
  }
}
